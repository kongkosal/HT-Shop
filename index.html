<!DOCTYPE html>
<html>
<head>
  <title>Order Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .product {
      border: 1px solid #ccc;
      padding: 15px;
      margin-bottom: 10px;
    }
    .btn {
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    .btn:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>

<h2>My Shop</h2>

<div class="product">
  <h3 id="productName">Product ABC</h3>
  <p>Price: $<span id="productPrice">10</span></p>
  <label>Quantity:</label>
  <input type="number" id="quantity" value="1" min="1">
  <br><br>
  <button class="btn" onclick="orderNow()">Order</button>
</div>

<script>
let billCounter = 1000; // Start bill numbers from 1000

function orderNow() {
  let customerName = prompt("Name?");
  if (!customerName) {
    alert("‚ùå Name is required!");
    return;
  }

  billCounter++; // Increase bill number each time
  let billNumber = "BILL-" + billCounter;

  let productName = document.getElementById("productName").innerText;
  let productPrice = parseFloat(document.getElementById("productPrice").innerText);
  let quantity = parseInt(document.getElementById("quantity").value);
  let total = (productPrice * quantity).toFixed(2);

  let message = `üßæ *Order Bill*\n` +
                `*Bill No:* ${billNumber}\n` +
                `*Name:* ${customerName}\n\n` +
                `*Product:* ${productName}\n` +
                `*Price:* $${productPrice}\n` +
                `*Quantity:* ${quantity}\n` +
                `*Total:* $${total}`;

  let botToken = "7597962374:AAFHkklfpEKWGXzErmnywORTpMRco32uncs";
  let chatId = "1268254469";

  fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(message)}&parse_mode=Markdown`)
    .then(res => res.json())
    .then(data => {
      if (data.ok) {
        alert("‚úÖ Order sent to Telegram!");
      } else {
        alert("‚ùå Failed to send order.");
        console.error(data);
      }
    })
    .catch(error => {
      alert("‚ùå Error sending order.");
      console.error(error);
    });
}
</script>

</body>
</html>
